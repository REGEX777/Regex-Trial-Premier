<!-- top.ejs here -->
<%- include('partials/nav') -%>
<div class="flex flex-grow items-start justify-center">

    <div class="wrapper w-[90%] font-poppins flex flex-col items-start justify-center">
        <a class="mb-5" href="/admin"><i class="fa-solid fa-arrow-left pr-2"></i> Back to Admin Page</a>
        <a class="mb-5" href="/myposts"><i class="fa-solid fa-arrow-left pr-2"></i> Back to Posts Page</a>

        <!-- form for image upload -->
        <form class="w-full md-mid2:w-[80%] mob-ninenine3:w-[60%]" id="tagForm" action="/post/edit/<%= post._id %>"
            method="post" class="flex h-max flex-col gap-4 w-1/2" enctype="multipart/form-data">

            <!-- new code -->
            <div class="mb-5">
                <label for="base-input" class="block mb-2 text-sm font-medium text-gray-900 w-full">Title</label>
                <input type="text" value="<%= post.title %>" id="base-input"
                    class="bg-gray-50 border w-full border-gray-300 text-sm px-2 rounded-lg h-10" name="title">
            </div>
            <div class="mb-5 w-full">
                <label for="base-input" class="block mb-2 text-sm font-medium text-gray-900 w-full">Body</label>
                <textarea name="body" id="" rows="10"
                    class="bg-gray-50 border w-full border-gray-300 rounded-lg p-2"><%= post.body %></textarea>
            </div>
            <div class="mb-5 w-full">
                <label for="base-input" class="block mb-2 text-sm font-medium text-gray-900 w-full">Cover Image</label>
                <input accept="image/*" id="imageInput" type="file"
                    class="t-1 block space-y-1 rounded-md border border-slate-300 bg-white px-3 py-2 placeholder-slate-400 w-[90%]"
                    id="newImage" name="newImage" />
            </div>

            <div class="flex items-center justify-center gap-5 min-h-[13rem] min-w-[13rem] mb-5 rounded-lg bg-gray-50"
                id="imagePreview">

                <a href="/post/edit/<%= post._id %>/<%= post.filename %>" class="text-2xl text-red-500"><i
                        class="fa-solid fa-trash"></i></a>
                <img src="/uploads/<%= post.filename %>" class="bg-[#fefefe] rounded-lg w-[10rem]" loading="lazy">

            </div>
            <button type="submit"
                class="h-[2.5rem] bg-black text-white font-poppins rounded-lg w-[7rem]">Submit</button>
            <br><br>

    </div>
    <%- include('partials/foot') -%>